(this["webpackJsonpimage-defrag"]=this["webpackJsonpimage-defrag"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),u=(n(11),n(3)),i=n(1),s=n.n(i),f=n(2),h=(n(13),function(){var e=Object(f.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type.match("image.*")){e.next=2;break}throw new Error('"'.concat(t.type,'" is not an image'));case 2:return(n=new FileReader).readAsDataURL(t),e.abrupt("return",new Promise((function(e,t){n.onload=function(t){e(t.target.result)},n.onerror=t,n.onabort=t})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=function(){var e=Object(f.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return n=e.sent,(r=document.createElement("canvas")).width=n.width,r.height=n.height,(a=r.getContext("2d")).drawImage(n,0,0),e.abrupt("return",a.getImageData(0,0,n.width,n.height));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context");return t.width=e.width,t.height=e.height,n.putImageData(e,0,0),t.toDataURL()},m=function(e){for(var t=e.data,n=[],r=0;r<t.length-3;r+=4)n.push([t[r],t[r+1],t[r+2],t[r+3]]);n.sort((function(e,t){return e===t?0:e.reduce((function(e,t){return e+t}),0)-t.reduce((function(e,t){return e+t}),0)}));var a=new Uint8ClampedArray(n.flat());return console.log(t),console.log(a),new ImageData(a,e.width,e.height)},g=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return n=e.sent,r=m(n),e.abrupt("return",d(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(),i=Object(u.a)(o,2),l=i[0],p=i[1],d=function(){var e=Object(f.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.files){e.next=2;break}return e.abrupt("return");case 2:return n=t.target.files[0],e.next=5,h(n);case 5:return r=e.sent,c(r),e.next=9,g(r);case 9:a=e.sent,p(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"App"},a.a.createElement("input",{type:"file",onChange:d}),n&&a.a.createElement("img",{alt:"original",src:n,style:{width:"100%"}}),l&&a.a.createElement("img",{alt:"defragmented",src:l,style:{width:"100%"}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){e.exports=n(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.e1672ca7.chunk.js.map